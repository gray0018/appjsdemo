<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dollars</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="res/css/materialize.min.css">
    <link rel="stylesheet" href="res/css/main.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="res/css/login.css">
    <link rel="stylesheet" href="res/css/loading.css">
    <style>
        body {
            display: flex;
            min-height: 100vh;
            flex-direction: column;
        }
        
        html {
            font-family: 微软雅黑;
        }
        
        main {
            flex: 1 0 auto;
            position: relative;
        }
        
        header,
        main,
        footer,
        .chatWindowFrame {
            padding-left: 300px;
        }

        .modal{
            position: absolute;
            left: 150px !important;
        }
        
        @media only screen and (max-width: 992px) {
            header,
            main,
            footer,
            .chatWindowFrame {
                padding-left: 0;
            }

            .modal{
            left: 0px !important;
        }
        }
        
        .chatWindowFrame::-webkit-scrollbar {
            display: none;
        }
        
        .side-nav::-webkit-scrollbar {
            display: none;
        }
    </style>

</head>

<body style="overflow:hidden;">



    <header>
        <nav class="top-nav">
            <div class="nav-wrapper center">
                <a href="#" class="page-title brand-logo" style="font-size:20px;">Dollars Chat</a>
                <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>

            </div>

        </nav>

        <ul id="slide-out" class="side-nav fixed">
            <li>
                <div class="userView">
                    <div class="background" style="filter: brightness(50%);">
                        <img src="res/img/slide_background.jpg" style="width:100%;">
                    </div>
                    <a href="#!user" onclick="showLogin()"><img style="background:white" class="circle z-depth-2" src="res/img/defaultAvatar.png"></a>
                    <a href="#!name" onclick="showLogin()"><span class="white-text name" id="nickName">未登录</span></a>
                    <a href="#!email"><span class="white-text email"></span></a>
                </div>
            </li>

            <li><a class="subheader">群聊</a></li>
            <li><a class="waves-effect" href="#!" onclick="openChat('0')" id="groupName">Dollars Chat</a></li>
            <li>
                <div class="divider"></div>
            </li>
            <li><a class="subheader">我的好友</a></li>
            <ul id="friendList">
                <li><a class="waves-effect" href="#!">-</a></li>

            </ul>
            <ul id="friendListOffline">

            </ul>
            <li>
                <div class="divider"></div>
            </li>
            <li><a class="subheader">设置</a></li>
            <li><a href="#!" id="btnLogin" class="waves-effect" onclick="showLogin()">登录</a></li>
            <li><a href="#!" id="btnLogout" class="waves-effect" onclick="showLogin()" style="display:none;">注销</a></li>
            <li><a href="#!" id="btnChangePasswd" class="waves-effect" onclick="showChangePasswd()">修改密码</a></li>
            <li><a href="#!" class="waves-effect">退出</a></li>
        </ul>
    </header>
    <main>
        <div class="container chatWindowFrame " id="chatWindow">
            <div id="welcome" class="welcomeWindow row">
                <img src="res/img/welcome.png" alt="">
                <label for="">Welcome to Dollars, please login.</label>
            </div>
        </div>

    </main>
    <footer class="page-footer" style="background: transparent;">
        <div class="container inputWindow">
            <div class="row" style="padding:0px;margin:0px;">
                <div class="input-field col s9">
                    <textarea id="textarea1" class="materialize-textarea" style="height:30px;padding:0px;" onkeydown="if(event.keyCode==13){sendNewMessage()}"></textarea>
                    <label for="textarea1">输入消息...</label>
                </div>
                <div class="col s1" style="padding:0px;display:flex;flex-direction:column;justify-content:center;align-items:center;">
                    <a href="#!" onclick="sendNewMessage()" class="btn-flat btn-small" style="display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0px;"><i
						 class="material-icons tooltipped" style="font-size:25px"  data-position="top" data-delay="50" data-tooltip="发送">send</i></a>
                </div>
                <div class="col s1" style="padding:0px;display:flex;flex-direction:column;justify-content:center;align-items:center;">
                    <a href="#!" onclick="showSendFileWindow()" class="btn-flat btn-small" style="display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0px;"><i
						 class="material-icons tooltipped" style="font-size:25px"  data-position="top" data-delay="50" data-tooltip="传送文件">folder</i></a>
                </div>
                <div class="col s1" style="padding:0px;display:flex;flex-direction:column;justify-content:center;align-items:center;">
                    <a href="#!" onclick="showPlaneBOMB()" class="btn-flat btn-small" style="display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0px;"><i
						 class="material-icons tooltipped" style="font-size:25px" data-position="top" data-delay="50" data-tooltip="开始炸飞机">flight</i></a>
                </div>
            </div>
        </div>


    </footer>

    <!-- <div id="blurOverlay" style="position: absolute; top: 0px; left: 0px; height: 100%; width: 100%; background-color: black; opacity: 0.4; visibility: visible; z-index: 50;" onclick="hide_all()"></div> -->

    <div id="loginWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="login-screen md-shadow-dialogs z-depth-2" onclick="stopPropagation(event)">
            <div class="app-title">
                <h4>登录</h4>
            </div>
            <div class="login-form ">
                <div class="control-group">
                    <input type="text" class="login-input login-field" placeholder="用户名" id="login-name" value="gary0029">
                    <label class="login-field-icon fui-user" for="login-name"></label>
                </div>

                <div class="control-group">
                    <input type="password" class="login-input login-field" placeholder="密码" id="login-pass" value="qwertyuiop">
                    <label class="login-field-icon fui-lock" for="login-pass"></label>
                </div>

                <a class="btn-post btn-primary btn-large btn-block" href="javascript:void(0)" onclick="login()">登录</a>
                <a class="btn-post btn-primary btn-large btn-block" style="background-color: white;border-style: solid;border-color: #3498DB;border-width: 2px;color: #3498DB;margin-top: 10px; " href="#!" onclick="signin()">注册</a>
                <a class="login-link" href="#">忘记密码</a>
            </div>


        </div>
    </div>

    <div id="changePasswdWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="login-screen md-shadow-dialogs z-depth-2" onclick="stopPropagation(event)">
            <div class="app-title">
                <h4>修改密码</h4>
            </div>
            <div class="login-form ">
                <div class="control-group">
                    <input type="text" class="login-input login-field" placeholder="请输入原始密码" id="passwordOld">
                    <label class="login-field-icon fui-user" for="login-name"></label>
                </div>
                <div class="control-group">
                    <input type="text" class="login-input login-field" placeholder="请输入8到16位新密码" id="passwordChanged">
                    <label class="login-field-icon fui-user" for="login-name"></label>
                </div>

                <div class="control-group">
                    <input type="password" class="login-input login-field" placeholder="请再输入一遍密码" id="passwordAgain">
                    <label class="login-field-icon fui-lock" for="login-pass"></label>
                </div>

                <a class="btn-post btn-primary btn-large btn-block" href="javascript:void(0)" onclick="changePasswd()">确认修改密码</a>
            </div>
        </div>
    </div>

    <div id="sendFileWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="login-screen md-shadow-dialogs z-depth-2" onclick="stopPropagation(event)">
            <div class="app-title">
                <h4>传送文件</h4>
            </div>
            <form id="uploadForm" enctype="multipart/form-data">
                <div class="login-form ">
                    <div class="control-group file-field input-field">
                        <div class="btn">
                            <span>文件</span>
                            <input type="file" id="filename">
                        </div>
                        <div class="file-path-wrapper">
                            <input class="file-path validate" type="text">
                        </div>
                        <!-- <label class="login-field-icon fui-user" for="login-name">选择文件</label> -->
                    </div>
                    <div class="control-group">
                        <label class="login-field-icon fui-user" for="whoAreYouGoingToSend">向</label>
                        <h5 id="whoAreYouGoingToSend">admin</h5>
                        <label class="login-field-icon fui-user" for="whoAreYouGoingToSend">发送文件</label>
                    </div>

                    <a class="btn-post btn-primary btn-large btn-block" href="javascript:void(0)" onclick="sendFileRequest()">发送</a>
                </div>
            </form>
        </div>
    </div>

    <div id="recvFileWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="login-screen md-shadow-dialogs z-depth-2" onclick="stopPropagation(event)">
            <div class="app-title">
                <h4>接收文件</h4>
            </div>
            <div class="login-form ">
                <div class="control-group">
                    <!-- <input type="file" class="login-input login-field" placeholder="" id="fileSelect"> -->
                    <label class="login-field-icon fui-user" for="login-name">您有新的文件传入，需要接收吗？</label>
                </div>
                <div class="control-group">
                    <!-- <input type="file" class="login-input login-field" placeholder="" id="fileSelect"> -->
                    <label class="login-field-icon fui-user" for="login-name">文件名：</label>
                    <h5 id="recvFileName">null</h5>
                </div>
                <div class="control-group">
                    <!-- <input type="file" class="login-input login-field" placeholder="" id="fileSelect"> -->
                    <label class="login-field-icon fui-user" for="login-name">传输者：</label>
                    <h5 id="recvFileSender">null</h5>
                </div>

                <a class="btn-post btn-primary btn-large btn-block" href="javascript:void(0)" onclick="youChooseToRecvFile()">接收</a>
                <a class="btn-post btn-primary btn-large btn-block" style="background-color: white;border-style: solid;border-color: #3498DB;border-width: 2px;color: #3498DB;margin-top: 10px; " href="#!" onclick="youChooseNotToRecvFile()">拒绝</a>
            </div>
        </div>
    </div>

    <div id="progressFileWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="login-screen md-shadow-dialogs z-depth-2" onclick="stopPropagation(event)">
            <div class="app-title">
                <h4>正在接收文件</h4>
            </div>
            <div class="login-form ">
                <div class="control-group">
                    <div class="progress">
                        <div id="recvFilePersent" class="determinate" style="width: 70%"></div>
                    </div>
                </div>
                <div class="control-group">
                    <!-- <input type="file" class="login-input login-field" placeholder="" id="fileSelect"> -->
                    <label class="login-field-icon fui-user" for="login-name">已接收：</label>
                    <h5 id="recvFilePersentText">0%</h5>
                </div>


                <a class="btn-post btn-primary btn-large btn-block" href="javascript:void(0)" onclick="">暂停</a>
                <a class="btn-post btn-primary btn-large btn-block" style="background-color: white;border-style: solid;border-color: #3498DB;border-width: 2px;color: #3498DB;margin-top: 10px; " href="#!" onclick="">取消</a>
            </div>
        </div>
    </div>

    <div id="sndprogressFileWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="login-screen md-shadow-dialogs z-depth-2" onclick="stopPropagation(event)">
            <div class="app-title">
                <h4>正在发送文件</h4>
            </div>
            <div class="login-form ">
                <div class="control-group">
                    <div class="progress">
                        <div id="sndFilePersent" class="determinate" style="width: 70%"></div>
                    </div>
                </div>
                <div class="control-group">
                    <!-- <input type="file" class="login-input login-field" placeholder="" id="fileSelect"> -->
                    <label class="login-field-icon fui-user" for="login-name">已发送：</label>
                    <h5 id="sndFilePersentText">0%</h5>
                </div>


                <a class="btn-post btn-primary btn-large btn-block" href="javascript:void(0)" onclick="">暂停</a>
                <a class="btn-post btn-primary btn-large btn-block" style="background-color: white;border-style: solid;border-color: #3498DB;border-width: 2px;color: #3498DB;margin-top: 10px; " href="#!" onclick="">取消</a>
            </div>
        </div>
    </div>


    <div id="sndsuccessFileWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="login-screen md-shadow-dialogs z-depth-2" onclick="stopPropagation(event)">
            <div class="app-title">
                <h4>文件发送成功</h4>
            </div>
            <div class="login-form ">
                <div class="control-group">
                    <label class="login-field-icon fui-user" for="login-name">文件名：</label>
                    <h5 id="sndsuccessFileName">null</h5>
                </div>
                <div class="control-group">
                    <label class="login-field-icon fui-user" for="login-name">保存位置：</label>
                    <a href="#!" id="sndsuccessFilePath"></a>
                </div>
                <a class="btn-post btn-primary btn-large btn-block bottom-sheet" href="javascript:void(0)" onclick="">确认</a>
            </div>
        </div>
    </div>

    <div id="successFileWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="login-screen md-shadow-dialogs z-depth-2" onclick="stopPropagation(event)">
            <div class="app-title">
                <h4>文件接收成功</h4>
            </div>
            <div class="login-form ">
                <div class="control-group">
                    <!-- <input type="file" class="login-input login-field" placeholder="" id="fileSelect"> -->
                    <label class="login-field-icon fui-user" for="login-name">文件名：</label>
                    <h5 id="successFileName">null</h5>
                </div>
                <div class="control-group">
                    <!-- <input type="file" class="login-input login-field" placeholder="" id="fileSelect"> -->
                    <label class="login-field-icon fui-user" for="login-name">保存位置：</label>
                    <a href="#!" id="successFilePath"></a>
                </div>


                <a class="btn-post btn-primary btn-large btn-block bottom-sheet" href="javascript:void(0)" onclick="">确认</a>

            </div>
        </div>
    </div>

    <div id="loadWindow" class="modal load-window z-depth-0" style="background:transparent;">
        <div class="load-screen">
            <div class="load-container z-depth-4">
                <div class="lds-ring">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <label for="" id="loadMsg">登陆中...</label>
            </div>
        </div>
    </div>

    <div id="planeBOMBWindow" class="overlay login-window modal z-depth-0" style="visibility: visible; margin: auto; top: 0px; left: 0px; right: 0px; bottom: 0px;background: transparent;" onclick="hide_all()">
        <div class="plane-bomb-screen md-shadow-dialogs z-depth-2 container center" onclick="stopPropagation(event)">
            <div class="row " style="margin-left:40px;margin-right:40px;padding-top:10px;">
                <h4 class="left col4" style="display:inline-block;">炸飞机</h4>
                <a href="#!" class="btn right col2" style="display:inline-block;">静音</a>
            </div>
            <div class="play-window center" >
                <div class="grid-container center">
                    
                    
                </div>
                <div class="container">
                    <div class="startgame row">
                        <a href="#!" class="btn center" style="margin:20px;" onclick="ready()">开始游戏</a>
    
                    </div>

                    <div class="row ready" style="display:none;margin:20px;">
                        等待对方玩家
                        <a href="#!" style="margin:20px;" onclick="notready()">取消准备</a>
                    </div>
                </div>
            </div>


        </div>
    </div>



    <script>
        if (typeof module === 'object') {
            window.module = module;
            module = undefined;
        }
    </script>
    <script src="res/js/jquery-2.1.1.min.js"></script>
    <script src="res/js/materialize.min.js"></script>
    <script src="res/js/gary.js"></script>
    <script src="res/js/function.js"></script>
    <script src="connect.js"></script>
    <script src="res/js/lib.js"></script>
    <script src="res/js/main.js"></script>

    <!-- Insert this line after script imports -->
    <script>
        if (window.module) module = window.module;
    </script>
</body>

</html>